<!DOCTYPE html>
<html>
  <head>
    <title>TV Manager API</title>
    <meta charset='utf-8'>
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common'
            async class='remove'></script>
    <script class="remove">
      var respecConfig = {
        specStatus:          "unofficial", // "ED",
        shortName:           "TV Manager API", // needed for generated URLs
        editors: [{
          name: "Gene Lian",
          company: "Mozilla",
          companyURL: "http://www.mozilla.org",
          mailto: "clian@mozilla.com"
        }],
        publishDate:         "", // no needed for "ED" or "unofficial"
        edDraftURI:          "http://airpingu.github.io/tv-tuner-api/index.html", // needed for "ED"
        previousPublishDate: "", // needed for "WD", "LC", "CR"
        previousMaturity:    "", // needed for "WD", "LC", "CR"
        lcEnd:               "", // needed for "LC"
        crEnd:               "", // needed for "CR"
        // wg:           "System Applications Working Group",
        // wgURI:        "http://www.w3.org/2012/sysapps/",
        // wgPublicList: "public-sysapps",
        // wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/43696/status",
        otherLinks: [{
          key: "Repository",
          data: [{
            value: "We are on GitHub.",
            href: "https://github.com/airpingu/tv-tuner-api/"
          }, {
            value: "File a bug.",
            href: "https://github.com/airpingu/tv-tuner-api/issues"
          }, {
            value: "Commit history.",
            href: "https://github.com/airpingu/tv-tuner-api/commits/gh-pages"
          }]
        }],
        inlineCSS:    true,
        noIDLIn:      true,
        noIDLSorting: true
      };
    </script>
  </head>

<!-----------------------------------------------------------------------------
Style guide to contributors:
============================
- this document uses ReSpec, see
  http://dev.w3.org/2009/dap/ReSpec.js/documentation.html
- use 80 characters wide lines, whenever possible (except long links)
- keep sections 2 empty lines apart
- put comments in front of sections, for better readability with syntax coloring
  editors
- use indentation with care: it may improve readability, but at the expense of
  line lenght
- when descriptions of attributes is short, use the <dd> elements even when
  the text also contains conformance statements (e.g. MUST, SHOULD, MAY).
  No use repeating the same information in a separate paragraph.
------------------------------------------------------------------------------>
 
  <body>

<!-- - - - - - - - - - - - - - - Abstract  - - - - - - - - - - - - - - - - - -->    
    <section id="abstract">
      The TV Manager API allows an application to control and manage the TV
      device.
    </section>

<!-- - - - - - - - - - - - - - - Status of this document - - - - - - - - - - -->   
    <section id="sotd">
    </section>
    
<!-- - - - - - - - - - - - - - - Introduction  - - - - - - - - - - - - - - - -->
    <section class="informative">
      <h2>Introduction</h2>
      <p>
        The TV Manager API interfaces provide a bunch of properties and a set of
        operations to allow applications to acquire the information of TV tuners,
        TV channels and TV programs as well as to control and manage the native
        TV hardwares (i.e., TV tuners), including scanning and switching the TV
        channels.
      </p>

      <section>
        <h3>User Cases</h3>
        <p>
          The TV Manager API is aimed to cover the following user cases:
        </p>
        <ul>
          <li>
            The web content is able to control the TV channel of the TV device
            with the TV tuner.
          </li>
          <li>
            One TV can have multiple TV tuners. For example, one is for watching
            TV and the other is for recording.
          </li>
          <li>
            TV Tuner can scan broadcasting channels, where each TV tuner can
            have its own scanning algorithm provided by the vendor.
          </li>
          <li>
            Web content needs to know which broadcasting types are supported by
            the TV tuners.
          </li>
          <li>
            Web content needs to know the information of Electronic Program
            Guide (EPG) that is being broadcasted.
          </li>
          <li>
            Users can navigate through the EPG and selects a program to watch.
          </li>
          <li>
            Users can watch the broadcasting program while browsing through the
            list of other programs that are currently broadcasted.
          </li>
          <li>
            Web content needs to know if the currently displayed TV channel has
            bad or no signal. Can be covered by VideoElement?
          </li>
          <li>
            One TV channel can have multiple video/audio tracks in the
            same broadcasting stream.
          </li>
          <li>
            Emergency broadcasting for earthquake, tsunami... etc.
          </li>
          <li>
            In the first step, only certified apps are allowed to use the TV
            Tuner API.
          </li>
          <li>
            The DTV can keep track of the multiple TV tuners that a TV channel
            can belong to, so that web content can do more flexible services
            like: when the user is using the TV tuner A to watch and record a
            certain TV channel at the same time, supposing the user wants to
            switch to other channels to watch, the DTV should use the TV tuner
            B to switch channels so that it won't stop the original recording
            task on the TV tuner A.
          </li>
          <li>
            EPG can be dynamically updated by the broadcasters. We need a way
            to notify the web contents to update its EPG menu from time to time.
          </li>
          <li>
            It is necessary to support multiple channels that can be
            concurrently displayed on the TV (i.e. Picture-in-Picture).
          </li>
          <li>
            DTV needs to connect to the broadcasters' remote servers to provide
            more TV services through the Web. To do this, the web content needs
            a universal way to identify the TV program.
          </li>
        </ul>
      </section>

      <section>
        <h3>Examples</h3>
        <p>
          If an application has the privilege to use the TV Manager API, it can
          use a bunch of basic methods defined in the <a>TVManager</a> to
          control the TV device.
        </p>

        <p>
          The following example shows how to get all the TV tuners that are
          currently available on the TV device and how to listen to the events
          for the TV tuner changes.
        </p>

        <pre class="example highlight">
          // An array which saves all the currently available TV tuners.
          var curTuners = [];

          // Set the 'ontunerchanged' event handler.
          navigator.mozTV.ontunerchanged = function ontunerchanged(event) {
            var operation = event.operation;
            var changedTuner = event.tuner;

            switch (operation) {
              case "added":
                curTuners.push(changedTuner);
                break;
              case "removed":
                curTuners.some(function findTuner(tuner, index) {
                  if (tuner.id == changedTuner.id) {
                    curTuners.splice(index, 1);
                    return true;
                  }
                  return false;
                });
                break;
              case "updated":
                curTuners.some(function findTuner(tuner, index) {
                  if (tuner.id == changedTuner.id) {
                    curTuners[index] = changedTuner;
                    return true;
                  }
                  return false;
                });
                break;
              default:
                break;
            }
          };

          // Retrieve all the currently available TV tuners.
          navigator.mozTV.getTuners().then(function onsuccess(tuners) {
            curTuners = tuners;
          }, function onerror(error) {
            alert(error);
          });
        </pre>

        <p>
          The following example shows how to get all the TV channels that are
          currently available in a TV tuner and how to listen to the events for
          the TV channel changes.
        </p>

        <pre class="example highlight">
          // A matrix which maps the TV tuner to its corresponding array of TV channels.
          // E.g., { "tunerId1": [...], "tunerId2": [...] }.
          var curChannelsOfTuners = {};

          // Set the 'onchannelchanged' event handler.
          navigator.mozTV.onchannelchanged = function onchannelchanged(event) {
            var operation = event.operation;
            var changedChannel = event.channel;

            // A simple way to composite the key for the TV channel.
            var changedChannelId = changedChannel.networkId +
                                   changedChannel.transportStreamId +
                                   changedChannel.serviceId;

            switch (operation) {
              case "added":
                var channels = curChannelsOfTuners[changedChannel.tuner.id];
                if (channels) {
                  channels.push(changedChannel);
                }
                break;
              case "removed":
                var channels = curChannelsOfTuners[changedChannel.tuner.id];
                if (channels) {
                  channels.some(function findChannel(channel, index) {
                    // A simple way to composite the key for the TV channel.
                    var channelId = channel.networkId +
                                    channel.transportStreamId +
                                    channel.serviceId;

                    if (channelId == changedChannelId) {
                      channels.splice(index, 1);
                      return true;
                    }
                    return false;
                  });
                }
                break;
              case "updated":
                var channels = curChannelsOfTuners[changedChannel.tuner.id];
                if (channels) {
                  channels.some(function findChannel(channel, index) {
                    // A simple way to composite the key for the TV channel.
                    var channelId = channel.networkId +
                                    channel.transportStreamId +
                                    channel.serviceId;

                    if (channelId == changedChannelId) {
                      channels[index] = changedChannel;
                      return true;
                    }
                    return false;
                  });
                }
                break;
              default:
                break;
            }
          };

          // Retrieve all the currently available TV tuners first.
          navigator.mozTV.getTuners().then(function onsuccess(tuners) {
            tuners.forEach(function getChannelsByTuner(tuner) {
              var tunerId = tuner.id;

              // Retrieve all the currently available TV channels in a TV tuner.
              navigator.mozTV.getChannels({
                tunerId: tunerId;
              }).then(function onsuccess(channels) {
                curChannelsOfTuners[tunerId] = channels;
              }, function onerror(error) {
                alert(error);
              });
            });
          }, function onerror(error) {
            alert(error);
          });
        </pre>

        <p>
          The following example shows how to get all the TV programs that are
          currently available in a TV channel and how to listen to the events
          for the TV program changes.
        </p>

        <pre class="example highlight">
          // A matrix which maps the TV channel to its corresponding array of TV programs.
          // E.g., { "channelId1": [...], "channelId2": [...] }.
          var curProgramsOfChannels = {};

          // Set the 'onprogramchanged' event handler.
          navigator.mozTV.onprogramchanged = function onprogramchanged(event) {
            var operation = event.operation;
            var changedProgram = event.program;
            var channel = changedProgram.channel;

            // A simple way to composite the key for the TV channel.
            var channelId = channel.networkId +
                            channel.transportStreamId +
                            channel.serviceId;

            switch (operation) {
              case "added":
                var programs = curProgramsOfChannels[channelId];
                if (programs) {
                  programs.push(changedProgram);
                }
                break;
              case "removed":
                var programs = curProgramsOfChannels[channelId];
                if (programs) {
                  programs.some(function findProgram(program, index) {
                    if (program.eventId == changedProgram.eventId) {
                      programs.splice(index, 1);
                      return true;
                    }
                    return false;
                  });
                }
                break;
              case "updated":
                var programs = curProgramsOfChannels[channelId];
                if (programs) {
                  programs.some(function findProgram(program, index) {
                    if (program.eventId == changedProgram.eventId) {
                      programs[index] = changedProgram;
                      return true;
                    }
                    return false;
                  });
                }
                break;
              default:
                break;
            }
          };

          // Retrieve all the currently available TV channels first.
          navigator.mozTV.getChannels().then(function onsuccess(channels) {
            channels.forEach(function getProgramsByChannel(channel) {
              // Retrieve all the currently available TV programs in a TV channel.
              navigator.mozTV.getPrograms({
                channelId: {
                  networkId: channel.networkId,
                  transportStreamId: channel.transportStreamId,
                  serviceId: channel.serviceId
                }
              }).then(function onsuccess(programs) {
                // A simple way to composite the key for the TV channel.
                var channelId = channel.networkId +
                                channel.transportStreamId +
                                channel.serviceId;

                curProgramsOfChannels[channelId] = programs;
              }, function onerror(error) {
                alert(error);
              });
            });
          }, function onerror(error) {
            alert(error);
          });
        </pre>

        <p>
          The following example shows how to play the <code>MediaStream</code>
          of a TV tuner by assigning the <code>MediaStream</code> to a
          <code>HTMLMediaElement</code>.
        </p>

        <pre class="example highlight">
          &lt;!DOCTYPE html&gt;
          &lt;html&gt;
            &lt;head&gt;
              &lt;script&gt;
                // Retrieve all the currently available TV tuners first.
                navigator.mozTV.getTuners().then(function onsuccess(tuners) {
                  if (tuners.length == 0) {
                    return;
                  }

                  // Just use the first TV tuner.
                  var tuner = tuners[0];

                  var video = document.getElementById("video-player");
                  video.srcObject = tuner.stream;
                }, function onerror(error) {
                  alert(error);
                });
              &lt;/script&gt;
            &lt;/head&gt;
            &lt;body&gt;
              &lt;p&gt;&lt;video id="video-player" autoplay&gt;&lt;/video&gt;&lt;/p&gt;
            &lt;/body&gt;
          &lt;/html&gt;
        </pre>

        <p>
          The following example shows how to scan and get all the TV channels
          that are available across different TV tuners.
        </p>

        <pre class="example highlight">
          // Ask tuners to scan the TV channels.
          navigator.mozTV.scan().then(function onsuccess() {
            // Retrieve all the currently available TV channels.
            navigator.mozTV.getChannels().then(function onsuccess(channels) {
              alert("Succeeded to scan and get all the TV channels.");
            }, function onerror(error) {
              alert(error);
            });
          }, function onerror(error) {
            alert(error);
          });
        </pre>

        <p>
          The following example shows how to set the TV channel by the TV
          channel ID.
        </p>

        <pre class="example highlight">
          // Retrieve all the currently available TV tuners first.
          navigator.mozTV.getTuners().then(function onsuccess(tuners) {
            if (tuners.length == 0) {
              return;
            }

            // Just use the first TV tuner.
            var tuner = tuners[0];

            // Retrieve all the currently available TV channels in a TV tuner.
            navigator.mozTV.getChannels({
              tunerId: tuner.id;
            }).then(function onsuccess(channels) {
              if (channels.length == 0) {
                return;
              }

              // Just use the first TV channel.
              var channel = channels[0];

              // Set the TV channel base on a TV tuner.
              navigator.mozTV.setChannel({
                channelId: {
                  networkId: channel.networkId,
                  transportStreamId: channel.transportStreamId,
                  serviceId: channel.serviceId
                }
              }).then(function onsuccess() {
                alert("Succeeded to set the TV channel.");
              }, function onerror(error) {
                alert(error);
              });
            }, function onerror(error) {
              alert(error);
            });
          }, function onerror(error) {
            alert(error);
          });
        </pre>

        <p>
          The following example shows how to unlock the parental control.
        </p>

        <pre class="example highlight">
          // Retrieve all the currently available TV tuners first.
          navigator.mozTV.getTuners().then(function onsuccess(tuners) {
            if (tuners.length == 0) {
              return;
            }

            // Just use the first TV tuner.
            var tuner = tuners[0];

            // This event handler will we triggered when a TV channel is set.
            tuner.onchannelchanged = function onchannelchanged(event) {
              var operation = event.operation;
              var changedChannel = event.channel;

              if (operation != "updated") {
                alert("The operation type must be 'updated'.");
                return;
              }

              if (navigator.mozTV.isParentalControlLocked &&
                  changedChannel.isParentalControlProtected) {
                // If the parental control is locked and the TV channel we're
                // setting is protected, the |tuner.stream|'s media tracks will
                // be disabled (i.e. black screen). The UA can pop up a prompt
                // to ask the user to enter the password to unlock it.
                alert("Parental lock is active. Please enter the password.");

                // Unlock the parental control which will be applied system-wisely.
                navigator.mozTV.unlockParentalControl().then(function onsuccess() {
                  alert("The parental control is unlocked until the reboot.");
                }, function onerror(error) {
                  alert(error);
                });
              }
            };

            // Retrieve all the currently available TV channels in a TV tuner.
            navigator.mozTV.getChannels({
              tunerId: tuner.id;
            }).then(function onsuccess(channels) {
              if (channels.length == 0) {
                return;
              }

              // Just use the first TV channel.
              var channel = channels[0];

              // Set the TV channel base on a TV tuner.
              navigator.mozTV.setChannel({
                channelId: {
                  networkId: channel.networkId,
                  transportStreamId: channel.transportStreamId,
                  serviceId: channel.serviceId
                }
              }).then(function onsuccess() {
                alert("Succeeded to set the TV channel.");
              }, function onerror(error) {
                alert(error);
              });
            }, function onerror(error) {
              alert(error);
            });
          }, function onerror(error) {
            alert(error);
          });
        </pre>
      </section>
    </section>
    
<!-- - - - - - - - - - - - - - - Conformance - - - - - - - - - - - - - - - - -->
    <section id="conformance">
      <p>
        This specification defines conformance criteria that apply to a single
        product: the <dfn>user agent</dfn> that implements the interfaces that
        it contains.
      </p>
    
      <p>
        Implementations that use ECMAScript to implement the APIs defined in
        this specification MUST implement them in a manner consistent with the
        ECMAScript Bindings defined in the Web IDL specification [[!WEBIDL]], as
        this specification uses that specification and terminology.
      </p>
    </section>
    
<!-- - - - - - - - - - - - - - - Terminology  - - - - - - - - - - - - - - - -->
    <section>
      <h2>Terminology</h2>
      <p>
        The <dfn><a
        href="http://dev.w3.org/html5/spec/webappapis.html#eventhandler">
        EventHandler</a></dfn> interface represents a callback used for event
        handlers as defined in [[!HTML5]].
      </p>
    
      <p>
        The concepts <dfn><a
        href="http://dev.w3.org/html5/spec/webappapis.html#queue-a-task"> queue
        a task</a></dfn> and <dfn><a
        href="http://dev.w3.org/html5/spec/webappapis.html#fire-a-simple-event">
        fire an event</a></dfn> are defined in [[!HTML5]].
      </p>
    
      <p>
        The terms <a
        href="http://dev.w3.org/html5/spec/webappapis.html#event-handlers"><dfn
        id="dfn-eventhandler">event handler</dfn></a> and <a
        href="http://dev.w3.org/html5/spec/webappapis.html#event-handler-event-type">
        <dfn id="dfn-eventtypes"> event handler event types</dfn></a> are
        defined in [[!HTML5]].
      </p>
    
      <p>
        The <dfn><a href="http://dom.spec.whatwg.org/#promise">Promise</a></dfn>
        interface, the concepts of a <a href=
        "http://dom.spec.whatwg.org/#concept-resolver"><dfn>resolver</dfn></a>, a
        <dfn id="dfn-fulfill-algorithm"><a
        href="http://dom.spec.whatwg.org/#concept-resolver-fulfill"> resolver's
        fulfill algorithm</a></dfn> and a <dfn id="dfn-reject-algorithm"><a
        href="http://dom.spec.whatwg.org/#concept-resolver-reject"> resolver's
        reject algorithm</a></dfn> are defined in [[DOM4]].
      </p>
    </section>

<!-- - - - - - - - - - - - - Extended Interface Navigator  - - - - - - - - - -->
    <section>
      <h2><a>Navigator</a> Interface</h2>
        <dl title="partial interface Navigator" class="idl">
          <dt>readonly attribute TVManager mozTV</dt>
          <dd>
          MUST return the object that exposes the interface to the TV service.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - - Interface TVManager  - - - - - - - - - - - - - -->
    <section>
      <h2><a>TVManager</a> Interface</h2>
      <p>
        The <a>TVManager</a> interface represents a bunch of properties and
        a set of operations that can be used to control the TV device.
      </p>

      <dl title="interface TVManager : EventTarget" class="idl">
        <dt>Promise getTuners ()</dt>
          <dd>
            This method makes a request to retrieve all the TV tuners that are
            available in the TV device. It returns a new <code>Promise</code>
            that will be used to notify the caller about the result of the
            operation, which is an array of <a>TVTuner</a> elements.
          </dd>

        <dt>Promise getChannels ()</dt>
          <dd>
            This method makes a request to retrieve all the TV channels that are
            available in a TV tuner by the <code>options</code> parameter.
            It returns a new <code>Promise</code> that will be used to notify
            the caller about the result of the operation, which is an array of
            <a>TVChannel</a> elements that belong to the TV tuner.
            <dl class='parameters'>
              <dt>optional TVGetChannelsOptions options</dt>
                <dd>
                  Specifies the options for retrieving the TV channels. If the
                  the <code>options</code> parameter or the <code>tunerId</code>
                  option in the <code>options</code> parameter is not passed,
                  this method will return all the TV channels that are available
                  across different TV tuners.
                </dd>
            </dl>
          </dd>

        <dt>Promise getPrograms ()</dt>
          <dd>
            This method makes a request to retrieve all the TV programs that are
            available in a TV channel by the <code>options</code> parameter. It
            returns a new <code>Promise</code> that will be used to notify the
            caller about the result of the operation, which is an array of
            <a>TVProgram</a> elements that belong to the TV channel.
            <dl class='parameters'>
              <dt>optional TVGetProgramsOptions options</dt>
                <dd>
                  Specifies the options for retrieving the TV programs. If the
                  the <code>options</code> parameter or the
                  <code>channelId</code> option in the <code>options</code>
                  parameter is not passed, this method will return all the TV
                  programs that are available across different TV channels.
                </dd>
            </dl>
          </dd>

        <dt>Promise scan ()</dt>
          <dd>
            This method makes a request to scan all the TV channels that are
            available across different TV tuners by the <code>isRescanned</code>
            parameter. It returns a new <code>Promise</code> that will be used
            to notify the caller about the result of the operation. Note that
            this method has to be called first so that the
            <a><code>getChannels</code></a> method can then retrieve the
            channels that are successfully scanned by the TV tuners.
            <dl class='parameters'>
              <dt>optional boolean isRescanned</dt>
                <dd>
                  Specifies whether or not the process of scanning the TV
                  channels has to clear the currently scanned TV channels and
                  rescan all of them. If the the <code>isRescanned</code>
                  parameter is not passed, this method will just rescan all the
                  TV channels as if the <code>isRescanned</code> is passed as
                  <code>true</code>.
                </dd>
            </dl>
          </dd>

        <dt>Promise stopScanning ()</dt>
          <dd>
            This method makes a request to stop scanning the TV channels. It
            returns a new <code>Promise</code> that will be used to notify the
            caller about the result of the operation.
          </dd>

        <dt>Promise setChannel ()</dt>
          <dd>
            This method makes a request to set the TV channel by the
            <code>options</code> parameter. It returns a new
            <code>Promise</code> that will be used to notify the caller about
            the result of the operation.
            <dl class='parameters'>
              <dt>SetChannelOptions options</dt>
                <dd>
                  Specifies the options for setting the TV channel.
                </dd>
            </dl>
          </dd>

        <dt>Promise unlockParentalControl ()</dt>
          <dd>
            This method makes a request to unlock the parental control. It
            returns a new <code>Promise</code> that will be used to notify the
            caller about the result of the operation.
          </dd>

        <dt>readonly attribute boolean isParentalControlLocked</dt>
          <dd>
            MUST return the current lock state of the TV parental control, which
            is system-widely applied to the TV device.
          </dd>

        <dt class="no-docs">
          attribute EventHandler ontunerchanged
        </dt>
          <dd>
            Handles the <code>ontunerchanged</code> event of type
            <a>TVTunerChangedEvent</a>, fired when an available TV tuner
            is added, removed or updated by the TV device.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onchannelchanged
        </dt>
          <dd>
            Handles the <code>onchannelchanged</code> event of type
            <a>TVChannelChangedEvent</a>, fired when an available TV
            channel is added, removed or updated by the TV tunner.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onprogramchanged
        </dt>
          <dd>
            Handles the <code>onprogramchanged</code> event of type
            <a>TVProgramChangedEvent</a>, fired when an available TV
            program is added, removed or updated in the TV channel.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onscanstatechanged
        </dt>
          <dd>
            Handles the <code>onscanstatechanged</code> event of type
            <a>TVScanStateChangedEvent</a>, fired when the state of the process
            of scanning the TV channels is changed. E.g., it can be fired when
            the method <a><code>scan</code></a> or the method
            <a><code>stopScanning</code></a> completes or stops the process of
            scanning the TV channels.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onparentalcontrolchanged
        </dt>
          <dd>
            Handles the <code>onparentalcontrolchanged</code> event of type
            <a>TVParentalControlChangedEvent</a>, fired when the state of the TV
            parental control is changed.
          </dd>
      </dl>

      <section>
        <h3>Steps</h3>

        <p>
          The <dfn><code>getTuners</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV device to retrieve all the TV tuners that
            are available in the TV device.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Let <var>tuners</var> be the array of the retrieved
              <a>TVTuner</a> elements.
            </li>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              with <em>tuners</em> as the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>getChannels</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV tuners to retrieve all the TV channels that
            are available in a TV tuner according to the retrieving options
            specified in the <code>options</code> parameter. If the
            <code>options</code> parameter is not passed or the
            <code>tunerId</code> option in the <code>options</code> parameter is
            not passed, retrieve all the TV channels that are available across
            different TV tuners.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Let <var>channels</var> be the array of the retrieved
              <a>TVChannel</a> elements.
            </li>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              with <em>channels</em> as the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>getPrograms</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV tuners to retrieve all the TV programs
            according to the retrieving options specified in the
            <code>options</code> parameter. If the <code>options</code>
            parameter is not passed or the <code>channelId</code> option in the
            <code>options</code> parameter is not passed, retrieve all the TV
            programs that are available across different TV channels. Needs to
            add more descriptions about other options...
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Let <var>programs</var> be the array of the retrieved
              <a>TVProgram</a> elements.
            </li>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              with <em>programs</em> as the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>scan</code></dfn> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV tuners to scan all the TV channels that are
            available across different TV tuners according to the
            <code>isRescanned</code> parameter. If the <code>isRescanned</code>
            parameter is passed as <code>true</code> or is not passed, the
            <a class="internalDFN" href="#dfn-user-agent">user agent</a> has to
            clear the currenly scanned TV channels first and rescan all of them.
            If <code>isRescanned</code> parameter is passed as
            <code>false</code>, the
            <a class="internalDFN" href="#dfn-user-agent">user agent</a> will
            simply scan additional TV channels which haven't been scanned yet.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              without assigning a value to the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>stopScanning</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV tuners to stop scanning the TV channels.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              without assigning a value to the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>setChannel</code></dfn> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV tuner to set the TV channel according to
            the setting options specified in the <code>options</code> parameter.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              without assigning a value to the <code>value</code> argument.
            </li>
          </ol>
        </ol>

        <p>
          The <dfn><code>unlockParentalControl</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>
            Let <var>promise</var> be a new <code>Promise</code> object and
            <var>resolver</var> be its associated <code>resolver</code>.
          </li>
          <li>
            Return <var>promise</var> to the caller.
          </li>
          <li>
            Make a request to the TV device to unlock the parental control. The
            <a class="internalDFN" href="#dfn-user-agent">user agent</a> has to
            pop up a prompt to ask users to input the password to unlock the
            parental control.
          </li>
          <li>
            If an <var>error</var> occurs invoke <em>resolver</em>'s <a
            class="internalDFN" href="#dfn-reject-algorithm">reject algorithm</a>
            with <em>error</em> as the <code>value</code> argument.
          </li>
          <li>
            When the request has been successfully completed:
          </li>
          <ol>
            <li>
              Invoke <em>resolver</em>'s <a
              class="internalDFN" href="#dfn-fulfill-algorithm"> fulfill algorithm</a>
              without assigning a value to the <code>value</code> argument.
            </li>
          </ol>
        </ol>

      </section>

      <section>
        <h2>Event handlers</h2>
        <p>The following are the <a class="internalDFN"
        href="#dfn-eventhandler">event handlers</a> (and their corresponding <a
        class="internalDFN" href="#dfn-eventtypes">event types</a>) that MUST be
        supported as attributes by the <a>TVManager</a> object.

        <table class="simple">
          <thead>
            <tr>
              <th>Event handler</th>
              <th>Event name</th>
              <th>Event type</th>
              <th>Short description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong><code>ontunerchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">tunerchanged</dfn></code></td>
              <td><a><code>TVTunerChangedEvent</code></a></td>
              <td>
                Handles the information of the available TV tuner that is added,
                removed or updated by the TV device.
              </td>
            </tr>

            <tr>
              <td><strong><code>onchannelchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">channelchanged</dfn></code></td>
              <td><a><code>TVChannelChangedEvent</code></a></td>
              <td>
                Handles the information of the available TV channel that is
                added, removed or updated by the TV tuner.
              </td>
            </tr>

            <tr>
              <td><strong><code>onprogramchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">programchanged</dfn></code></td>
              <td><a><code>TVProgramChangedEvent</code></a></td>
              <td>
                Handles the information of the available TV program that is
                added, removed or updated in the TV channel.
              </td>
            </tr>

            <tr>
              <td><strong><code>onscanstatechanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">channelsscanned</dfn></code></td>
              <td><a><code>TVScanStateChangedEvent</code></a></td>
              <td>
                Handles the information of the changed state of the process of
                scanning the TV channels.
              </td>
            </tr>

            <tr>
              <td><strong><code>onparentalcontrolchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">parentalcontrolchanged</dfn></code></td>
              <td><a><code>TVParentalControlChangedEvent</code></a></td>
              <td>
                Handles the information of the changed state of the TV parental
                control.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

    </section>

<!-- - - - - - - - - - - - Interface TVTuner  - - - - - - - - - - - - -->
    <section>
      <h2><a>TVTuner</a> Interface</h2>
      <p>
        The <a>TVTuner</a> interface represents a bunch of properties and
        a set of operations related to the TV tuner.
      </p>
      <dl title="interface TVTuner : EventTarget" class="idl">
        <dt>readonly attribute DOMString id</dt>
          <dd>
            MUST return the ID of the TV tuner.
          </dd>

        <dt>readonly attribute TVTunerType type</dt>
          <dd>
            MUST return the type of the TV tuner.
          </dd>

        <dt>readonly attribute MediaStream? stream</dt>
          <dd>
            MUST return a <a href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html#mediastream">MediaStream</a>
            object that is currently streamed by the TV tuner, which can be
            played by the <a href="http://dev.w3.org/html5/spec-preview/the-video-element.html#the-video-element">video</a>
            element by assigning the <code>MediaStream</code> to the
            <code>HTMLMediaElement</code> (<a href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html#mediastreams-as-media-elements">details</a>) and can be recorded by the
            <a href="https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html#MediaRecorderAPI">MediaRecorder</a>. MUST return <em>null</em>
            if the TV tuner is not streaming.
          </dd>

        <dt>readonly attribute TVChannel? <a>channel</a></dt>
          <dd>
            MUST return the TV channel that is currently streamed by the TV
            tuner. MUST return <em>null</em> if the TV tuner is not streaming.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onchannelchanged
        </dt>
          <dd>
            Handles the <code>onchannelchanged</code> event of type
            <a>TVChannelChangedEvent</a>, fired when the currently streamed TV
            channel is updated by the TV tuner.
          </dd>
      </dl>

      <section>
        <h2>Event handlers</h2>
        <p>The following are the <a class="internalDFN"
        href="#dfn-eventhandler">event handlers</a> (and their corresponding <a
        class="internalDFN" href="#dfn-eventtypes">event types</a>) that MUST be
        supported as attributes by the <a>TVTuner</a> object.
        
        <table class="simple">
          <thead>
            <tr>
              <th>Event handler</th>
              <th>Event name</th>
              <th>Event type</th>
              <th>Short description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong><code>onchannelchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">channelchanged</dfn></code></td>
              <td><a><code>TVChannelChangedEvent</code></a></td>
              <td>
                Handles the information of the currently streamed TV channel
                that is updated by the TV tuner.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

    </section>

<!-- - - - - - - - - - - - Interface TVChannel  - - - - - - - - - - - - -->
    <section>
      <h2><a>TVChannel</a> Interface</h2>
      <p>
        The <a>TVChannel</a> interface represents a bunch of properties and
        a set of operations related to the TV channel.
      </p>
      <dl title="interface TVChannel : EventTarget" class="idl">
        <dt>readonly attribute DOMString networkId</dt>
          <dd>
            MUST return the identification of a broadcast transmission network.
            On satellite and IP broadband, typically one <code>network_id</code>
            corresponds to an operator. On cable and terrestrial, where
            different radio frequencies might be used in different regions,
            operators typically use one <code>network_id</code> per such region.
          </dd>

        <dt>readonly attribute DOMString transportStreamId</dt>
          <dd>
            MUST return the identification of a time-domain multiplex of several
            programmes carried in Transport Stream (TS) packets. One or more
            multiplexes can be transmitted on any given radio frequency in a DVB
            network.
          </dd>

        <dt>readonly attribute DOMString serviceId</dt>
          <dd>
            MUST return the identification of a TV, radio or data programme
            within a TS multiplex. The number of programmes is limited by the
            capacity of the underlying physical channel.
          </dd>

        <dt>readonly attribute TVTuner tuner</dt>
          <dd>
            MUST return the TV tuner which the TV channel belongs to.
          </dd>

        <dt>readonly attribute DOMString number</dt>
          <dd>
            MUST return the Logical Channel Number (LCN) of the TV channel. E.g.,
            <code>"12-1"</code>, <code>"12-2"</code>, <code>"12-2"</code>... etc.
          </dd>

        <dt>readonly attribute TVChannelType type</dt>
          <dd>
            MUST return the type of the TV channel.
          </dd>

        <dt>readonly attribute DOMString name</dt>
          <dd>
            MUST return the name of the TV channel. E.g., <code>"CNN"</code>,
            <code>"NHK"</code>... etc.
          </dd>

        <dt>readonly attribute boolean isParentalControlProtected</dt>
          <dd>
            MUST return the current protection state of the TV parental control
            on the TV channel. The value is hooked up to the system settings
            to decide whether or not the TV channel is protected from being
            watched by the children.
          </dd>

        <dt>readonly attribute boolean isEmergency</dt>
          <dd>
            MUST indicate whether the TV channel is for the emergency purpose.
          </dd>

        <dt>readonly attribute TVProgram? program</dt>
          <dd>
            MUST return the TV program that is currently broadcasted in the TV
            channel. MUST return <em>null</em> if the TV channel is not
            currently streamed by the TV tuner.
          </dd>

        <dt class="no-docs">
          attribute EventHandler onprogramchanged
        </dt>
          <dd>
            Handles the <code>onprogramchanged</code> event of type
            <a>TVProgramChangedEvent</a>, fired when the currently broadcasted
            TV program is updated in the TV channel.
          </dd>

      </dl>

      <section>
        <h2>Event handlers</h2>
        <p>The following are the <a class="internalDFN"
        href="#dfn-eventhandler">event handlers</a> (and their corresponding <a
        class="internalDFN" href="#dfn-eventtypes">event types</a>) that MUST be
        supported as attributes by the <a>TVChannel</a> object.

        <table class="simple">
          <thead>
            <tr>
              <th>Event handler</th>
              <th>Event name</th>
              <th>Event type</th>
              <th>Short description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong><code>onprogramchanged</code></strong></td>
              <td><code><dfn id="dfn-change-event">programchanged</dfn></code></td>
              <td><a><code>TVProgramChangedEvent</code></a></td>
              <td>
                Handles the information of the currently broadcasted TV program
                that is updated in the TV channel.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

    </section>

<!-- - - - - - - - - - - - Interface TVProgram  - - - - - - - - - - - - -->
    <section>
      <h2><a>TVProgram</a> Interface</h2>
      <p>
        The <a>TVProgram</a> interface represents a bunch of properties and
        a set of operations related to the TV program.
      </p>
      <dl title="interface TVProgram" class="idl">
        <dt>readonly attribute DOMString eventId</dt>
          <dd>
            MUST return the event ID of the TV program.
          </dd>

        <dt>readonly attribute TVChannel channel</dt>
          <dd>
            MUST return the TV channel which the TV program belongs to.
          </dd>

        <dt>readonly attribute DOMString title</dt>
          <dd>
            MUST return the title of the TV program.
          </dd>

        <dt>readonly attribute unsigned long long startTime</dt>
          <dd>
            MUST return the start time of the TV program.
          </dd>

        <dt>readonly attribute unsigned long long duration</dt>
          <dd>
            MUST return the duration of the TV program.
          </dd>

        <dt>readonly attribute DOMString? description</dt>
          <dd>
            MUST return the description of the TV program.
          </dd>

        <dt>readonly attribute DOMString? language</dt>
          <dd>
            MUST return the language of the TV program.
          </dd>

        <dt>readonly attribute DOMString? rating</dt>
          <dd>
            MUST return the rating of the TV program.
          </dd>

        <dt>readonly attribute boolean isParentalControlProtected</dt>
          <dd>
            MUST return the current protection state of the TV parental control
            on the TV program. The value is hooked up to the system settings to
            decide whether or not the TV program is protected from being watched
            by the children.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Dictionary TVChannelId   - - - - - - - - - -->
    <section>
      <h2><a>TVChannelId</a> Dictionary</h2>
      <p>
        The <a>TVChannelId</a> dictionary contains the triple ID for
        identifying the TV channel.
      </p>
      <dl title="dictionary TVChannelId" class="idl">
        <dt>DOMString networkId</dt>
          <dd>
            See the definition of <code>networkId</code> in the
            <a>TVChannel</a>.
          </dd>

        <dt>DOMString transportStreamId</dt>
          <dd>
            See the definition of <code>transportStreamId</code> in the
            <a>TVChannel</a>.
          </dd>

        <dt>DOMString serviceId</dt>
          <dd>
            See the definition of <code>serviceId</code> in the
            <a>TVChannel</a>.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Dictionary TVGetChannelsOptions   - - - - - - - - - -->
    <section>
      <h2><a>TVGetChannelsOptions</a> Dictionary</h2>
      <p>
        The <a>TVGetChannelsOptions</a> dictionary contains the information for
        retrieving the TV channels.
      </p>
      <dl title="dictionary TVGetChannelsOptions" class="idl">
        <dt>DOMString tunerId</dt>
          <dd>
            Identifies the TV tuner that is requested to retrieve the TV
            channels.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Dictionary TVGetProgramsOptions   - - - - - - - - - -->
    <section>
      <h2><a>TVGetProgramsOptions</a> Dictionary</h2>
      <p>
        The <a>TVGetProgramsOptions</a> dictionary contains the information for
        retrieving the TV programs.
      </p>
      <dl title="dictionary TVGetProgramsOptions" class="idl">
        <dt>TVChannelId channelId</dt>
          <dd>
            Identifies the TV channel that is requested to retrieve the TV
            programs.
          </dd>
        <dt>unsigned long numberOfPrograms</dt>
          <dd>
            Specifies how many TV programs to be retrieved from the time point
            of now. Note that this attribute is only meaningful and considered
            when the <code>channelId</code> is passed. E.g., if this attribute
            is passed as <code>1</code>, it will return the current TV program
            in the TV channel at this moment; if it is passed as <code>2</code>,
            it will return the current and the next TV programs.
          </dd>
        <dt>unsigned long long startTime</dt>
          <dd>
            Specifies the start time of a time period which bounds the time
            slots of TV programs to be retrieved. Note that this attribute is
            only meaningful and considered when the
            <code>numberOfPrograms</code> is passed as <code>0</code> or not
            passed
          </dd>
        <dt>unsigned long long duration</dt>
          <dd>
            Specifies the duration of a time period which bounds the time slots
            of TV programs to be retrieved. Note that this attribute is only
            meaningful and considered when the <code>numberOfPrograms</code> is
            passed as <code>0</code> or not passed.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Dictionary SetChannelOptions   - - - - - - - - - -->
    <section>
      <h2><a>SetChannelOptions</a> Dictionary</h2>
      <p>
        The <a>SetChannelOptions</a> dictionary contains the information for
        setting the TV channel.
      </p>
      <dl title="dictionary SetChannelOptions" class="idl">
        <dt>TVChannelId channelId</dt>
          <dd>
            Identifies the TV channel that is requested to be set.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface TVTunerChangedEvent - - - - - - - - - - -->
    <section>
      <h2><a>TVTunerChangedEvent</a> Interface</h2>
      <p>
        The <a>TVTunerChangedEvent</a> interface represents the event
        related to the TV tuner changed by the TV device.
      </p>
      <dl title="interface TVTunerChangedEvent : Event" class="idl">
        <dt>readonly attribute TVObjectChangedEventOperation operation</dt>
          <dd>
            MUST return the type of operation that changes the TV tuner.
          </dd>

        <dt>readonly attribute TVTuner tuner</dt>
          <dd>
            MUST return the TV tuner that is changed by the TV device.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface TVChannelChangedEvent - - - - - - - - - - -->
    <section>
      <h2><a>TVChannelChangedEvent</a> Interface</h2>
      <p>
        The <a>TVChannelChangedEvent</a> interface represents the event
        related to the TV channel changed by the TV tuner.
      </p>
      <dl title="interface TVChannelChangedEvent : Event" class="idl">
        <dt>readonly attribute TVObjectChangedEventOperation operation</dt>
          <dd>
            MUST return the type of operation that changes the TV channel.
          </dd>

        <dt>readonly attribute TVChannel channel</dt>
          <dd>
            MUST return the TV channel that is changed by the TV tuner.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface TVProgramChangedEvent - - - - - - - - - - -->
    <section>
      <h2><a>TVProgramChangedEvent</a> Interface</h2>
      <p>
        The <a>TVProgramChangedEvent</a> interface represents the event
        related to the TV program changed in the TV channel.
      </p>
      <dl title="interface TVProgramChangedEvent : Event" class="idl">
        <dt>readonly attribute TVObjectChangedEventOperation operation</dt>
          <dd>
            MUST return the type of operation that changes the TV program.
          </dd>

        <dt>readonly attribute TVProgram program</dt>
          <dd>
            MUST return the TV program that is changed in the TV channel.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface TVScanStateChangedEvent - - - - - - - - -->
    <section>
      <h2><a>TVScanStateChangedEvent</a> Interface</h2>
      <p>
        The <a>TVScanStateChangedEvent</a> interface represents the event
        related to the changed state of the process of scanning the TV channels.
      </p>
      <dl title="interface TVScanStateChangedEvent : Event" class="idl">
        <dt>readonly attribute TVScanStateChangedEventOperation operation</dt>
          <dd>
            MUST return the type of operation that changes the process of
            scanning the TV channels.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface TVParentalControlChangedEvent - - -->
    <section>
      <h2><a>TVParentalControlChangedEvent</a> Interface</h2>
      <p>
        The <a>TVParentalControlChangedEvent</a> interface represents the
        event related to the state change of the TV parental control.
      </p>
      <dl title="interface TVParentalControlChangedEvent : Event" class="idl">
        <dt>readonly attribute boolean isParentalControlLocked</dt>
          <dd>
            MUST return the changed lock state of the TV parental control.
          </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Interface Enumerations  - - - - - - - - - - - - - -->
    <section>
      <h2>Enumerations</h2>
      <p>
        The attribute <code>type</code> in a <a>TVTuner</a> can have the
        following values:
      </p>
      <dl title="enum TVTunerType" class="idl">
        <dt>dvb-t</dt>
        <dd>
          The TV tuner works for Digital Video Broadcasting - Terrestrial.
        </dd>

        <dt>dvb-c</dt>
        <dd>
          The TV tuner works for Digital Video Broadcasting - Cable.
        </dd>

        <dt>dvb-s</dt>
        <dd>
          The TV tuner works for Digital Video Broadcasting - Satellite.
        </dd>
      </dl>

      <p>
        The attribute <code>type</code> in a <a>TVChannel</a> can have the
        following values:
      </p>
      <dl title="enum TVChannelType" class="idl">
        <dt>tv</dt>
        <dd>
          The TV channel is broadcasted as a regular TV type.
        </dd>

        <dt>radio</dt>
        <dd>
          The TV channel is broadcasted as a radio type.
        </dd>
      </dl>

      <p>
        The attribute <code>operation</code> in the <a>TVTunerChangedEvent</a>,
        the <a>TVChannelChangedEvent</a> or the <a>TVProgramChangedEvent</a> can
        have the following values:
      </p>
      <dl title="enum TVObjectChangedEventOperation" class="idl">
        <dt>added</dt>
        <dd>
          A TV object is added.
        </dd>

        <dt>removed</dt>
        <dd>
          A TV object is removed.
        </dd>

        <dt>updated</dt>
        <dd>
          A TV object is updated.
        </dd>
      </dl>

      <p>
        The attribute <code>operation</code> in the
        <a>TVScanStateChangedEvent</a> can have the following values:
      </p>
      <dl title="enum TVScanStateChangedEventOperation" class="idl">
        <dt>scanning</dt>
        <dd>
          The process of scanning the TV channels is running.
        </dd>

        <dt>completed</dt>
        <dd>
          The process of scanning the TV channels is completed.
        </dd>

        <dt>stopped</dt>
        <dd>
          The process of scanning the TV channels is stopped.
        </dd>
      </dl>
    </section>

<!-- - - - - - - - - - - - Acknowledgements  - - - - - - - - - - - - - - - - -->
    <section>
      <h2>Acknowledgements</h2>
      <p>
        To be constructed.
      </p>
    </section>

  </body>
</html>
